---
import Layout from '@/layouts/Layout.astro';
import AdminDashboard from '@/components/AdminDashboard';
import { requireAdmin } from '@/lib/admin-auth';

const guard = requireAdmin(Astro);
if (guard) {
  return guard;
}
---

<Layout title="Admin Dashboard" canonical="https://collegelacrosseschedule.com/admin/dashboard">
  <section class="rounded-xl bg-white p-6 shadow-card">
    <h1 class="text-2xl font-extrabold text-navy">Admin Dashboard</h1>
    <p class="mt-2 text-sm text-navy/70">
      Monitor scraper health, trigger jobs manually, inspect Redis cache state, and review affiliate click analytics.
    </p>
  </section>

  <div class="mt-6">
    <AdminDashboard client:load />
  </div>
</Layout>
